<odoo>
  <data>
    <!-- <record id="crm_lost_reason_view_form" model="ir.ui.view">
        <field name="name">crm.lost.reason.form</field>
        <field name="model">crm.lost.reason</field>
        <field name="arch" type="xml">
            <form string="Lost Reason">
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button name="action_lost_leads" type="object"
                            class="oe_stat_button" icon="fa-star">
                            <div class="o_stat_info">
                                <field name="leads_count" class="o_stat_value"/>
                                <span class="o_stat_text"> Leads</span>
                            </div>
                        </button>
                    </div>
                    <widget name="web_ribbon" title="Archived" bg_color="bg-danger" attrs="{'invisible': [('active', '=', True)]}"/>
                    <div class="oe_title">
                        <div class="oe_edit_only">
                            <label for="name"/>
                        </div>
                        <h1 class="mb32">
                            <field name="sName" class="mb16"/>
                        </h1>
                        <field name="active" invisible="1"/>
                    </div>
                </sheet>
            </form>
        </field>
    </record>-->
    <!--<record model="ir.actions.act_window" id="laboratory.action_students">
      <field name="name">Laboratory Students</field>
      <field name="res_model">laboratory.students</field>
      <field name="view_mode">tree,form</field>
    </record>-->

<!--    Print-->
    <!-- <record id="action_lab_information" model="ir.actions.report">
        <field name="name">Report_PDF</field>
        <field name="model">laboratory.students</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">hr_holidays</field>
        <field name="report_file">hr_holidays.report_holidayssummary</field>
    </record>-->
<!--    print of button link-->
    <record id="lab_student_print_badge" model="ir.actions.report">
        <field name="name">Print Badge</field>
        <field name="model">laboratory.students</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">laboratory.print_student_badge</field>
        <field name="report_file">laboratory.print_student_badge</field>
        <field name="print_report_name">'Print Badge - %s' % (object.sName).replace('/', '')</field>
        <field name="binding_model_id" ref="model_laboratory_students"/>
        <field name="binding_type">report</field>
    </record>
<!--     print button (on new form) define by myself, via special need.-->
    <record id="lab_action_print_students" model="ir.actions.report">
        <field name="name">By Form</field>
        <field name="model">laboratory.students</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">laboratory.report_studentsrecords</field>
        <field name="report_file">laboratory.report_studentsrecords</field>
        <field name="attachment_use" eval="True"/>
        <field name="attachment">(object.state in ('open','paid')) and ('INV'+(object.number or '').replace('/','')+'.pdf')</field>
        <field name="binding_model_id" ref="model_laboratory_students"/>
        <field name="binding_type">report</field>
    </record>
    <record id="action_newForm_print" model="ir.actions.act_window">
        <field name="name">act_window</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">report.laboratory.report_studentsrecords</field>
        <field name="view_mode">form</field>
        <field name="target">new</field>
        <field name="binding_model_id" ref="laboratory.model_laboratory_students"/>
        <field name="binding_type">report</field>
    </record>
    <record id="view_print_newForm" model="ir.ui.view">
        <field name="name">laboratory.students.form</field>
        <field name="model">laboratory.students</field>
        <field name="arch" type="xml">
            <form string="Summary">
                <group col="4" colspan="6">
                    <field name="sID"/>
                    <newline/>
                    <field name="sName"/>
                    <newline/>
                    <field name="sSex" invisible="True"/>
                </group>
                <footer>
                    <button name="print_report" string="Print_Stu" type="object" class="btn-primary"/>
                    <button string="Cancel" class="btn-secondary" spwizardecial="cancel" />
                </footer>
            </form>
        </field>
    </record>


    <record model="ir.actions.server" id="action_server_lab_students">
        <field name="name">students server</field>
        <field name="model_id" ref="laboratory.model_laboratory_students"/>
        <field name="state">code</field>
        <field name="code">
            action = {
            "name": "Laboratory Students",
            "type": "ir.actions.act_window",
            "view_mode": "tree,form,kanban,list,graph",
            "res_model": model._name,
        }
        </field>
    </record>
    <record model="ir.ui.view" id="lab_student_tree">
        <field name="name">Students</field>
        <field name="model">laboratory.students</field>
        <field name="arch" type="xml">
            <!--<xpath expr="//tree" position="attributes">
                <attribute name="decoration-info">stu_status == 'entrance'</attribute>
            </xpath>
            <xpath expr="//field[@name='stu_status']" position="after">
                <field name="stu_status" invisible="1"/>
            </xpath>-->
            <tree>
                <field name="sID"/>
                <field name="sName"/>
                <field name="sSex"/>
                <field name="sRegistDate"/>
                <field name="stu_status" widget="statusbar" statusbar_visible="entrance,study,graduate"/>
                <field name="state" widget="badge" optional="show" decoration-info="state == 'apply'" decoration-success="state == 'finished'" decoration-warning="state == 'unselected'" decoration-danger="state == 'error'"/>
                <field name="c_ids" widget="many2many_tags"/>
                <field name="description"/>
            </tree>
        </field>
    </record>
    <record model="ir.ui.view" id="lab_student_form">
        <field name="name">Students</field>
        <field name="model">laboratory.students</field>
        <field name="arch" type="xml">
            <form string="Students" modifiers="{}">
            <!--header:    combined with sheet, provides a full-width location above the sheet itself, generally used to display workflow buttons and status widgets.       -->
                <header modifiers="{}">
                    <button string="Set to Entrance" name="action_stu_status_entrance" type="object" class="btn-primary" options="{}"
                            attrs="{'invisible': [('stu_status', '=', 'entrance')]}" modifiers="{'invisible':[['stu_status','=','entrance']]}"/>
                    <button string="study" name="action_stu_status_study" type="object" class="btn-primary"  options="{}"
                            attrs="{'invisible': [('stu_status', '=', 'study')]}" modifiers="{'invisible':[['stu_status','=','study']]}"/>
                    <button string="graduate" name="action_stu_status_graduate" class="btn-primary" type="object" context="{'create_user': 1}"
                            attrs="{'invisible': [('stu_status', '=', 'graduate')]}" modifiers="{'invisible':[['stu_status','=','graduate']]}"/>

                    <field name="state" invisible="1"/>
                    <field name="stu_status" widget="statusbar" statusbar_visible="entrance,study,graduate" modifiers="{'readonly':true}"/>
                </header>
                <sheet modifiers="{}">
                    <group>
                        <group>
                            <field name="sID"/>
                            <field name="sName"/>
                            <field name="sSex"/>
                            <field name="sRegistDate" default_period="last_year" string="入校时间"/>
<!--                            <button name="action_new_course" string="move_course" type="object" class="btn-primary o_button_generate_leads"/>-->
                            <button name="%(lab_student_print_badge)d" string="Print Badge" class="btn btn-link" type="action"/>
                        </group>
                        <group>
<!--                            <field name="state" widget="badge" optional="show" decoration-info="state == 'apply'" decoration-success="state == 'finished'" decoration-warning="state == 'unselected'" decoration-danger="state == 'error'"/>-->
<!--                            <field name="stu_status" widget="statusbar" statusbar_visible="entrance,study,graduate" modifiers="{'readonly':true}"/>-->
                            <field name="state"/>
                            <field name="filter_on_height" options="{'horizontal': true}"/>
                            <label for="height_size_min" attrs="{'invisible': [('filter_on_height', '=', False)]}"/>
                            <div attrs="{'invisible': [('filter_on_height', '=', False)]}">
                                From
                                <field name="height_size_min" class="oe_inline col-sm-3" attrs="{'required': [('filter_on_height', '=', True)],}"/>
                                to
                                <field name="height_size_max" class="oe_inline col-sm-3" attrs="{'required': [('filter_on_height', '=', True)],}"/>
                                cm
                            </div>
                            <field name="c_ids" widget="many2many_tags"/>
                        </group>
                    </group>
                    <notebook>
                        <page string="Description">
                            <field name="description"/>
                        </page>
                    </notebook>
                </sheet>
             </form>
        </field>
    </record>

    <record model="ir.actions.server" id="action_server_lab_courses">
      <field name="name">course server</field>
      <field name="model_id" ref="laboratory.model_laboratory_courses"/>
      <field name="state">code</field>
      <field name="code">
        action = {
          "name": "Laboratory Courses",
          "type": "ir.actions.act_window",
          "view_mode": "tree,form,graph,kanban",
          "res_model": model._name,
        }
      </field>
    </record>
    <!--<record model="ir.actions.act_window" id="laboratory.action_courses">
      <field name="name">Laboratory Courses</field>
      <field name="res_model">laboratory.courses</field>
      <field name="view_mode">tree,form</field>
    </record>-->
    <record model="ir.ui.view" id="laboratory.course_tree">
        <field name="name">Courses</field>
        <field name="model">laboratory.courses</field>
        <field name="arch" type="xml">
            <tree>
                <field name="courseID"/>
                <field name="courseName"/>
                <field name="rel_teacher"/>
                <field name="description"/>
                <field name="state" readonly="1" decoration-info="state == 'open'" decoration-success="state == 'done'" decoration-danger="state == 'error'" widget="badge"/>
                <field name="s_ids"/>
                <button name="action_new_stu" string="move_stu" type="object" class="btn-primary o_button_generate_leads"/>
            </tree>
        </field>
    </record>
    <record model="ir.ui.view" id="laboratory.course_form">
        <field name="name">Courses</field>
        <field name="model">laboratory.courses</field>
        <field name="arch" type="xml">
            <form>
                <header>
                     <button string="apply" name="action_state_apply" type="object" class="btn-primary" options="{}"
                            attrs="{'invisible': [('state', '=', 'apply')]}" modifiers="{'invisible':[['state','=','apply']]}"/>
                    <button string="open" name="action_state_open" type="object" class="btn-primary"  options="{}"
                            attrs="{'invisible': [('state', '=', 'open')]}" modifiers="{'invisible':[['state','=','open']]}"/>
                    <button string="done" name="action_state_done" class="btn-primary" type="object"
                            attrs="{'invisible': [('state', '=', 'done')]}" modifiers="{'invisible':[['state','=','done']]}"/>
                    <button string="close" name="action_state_close" class="btn-primary" type="object"
                            attrs="{'invisible': [('state', '=', 'close')]}" modifiers="{'invisible':[['state','=','close']]}"/>

                    <field name="state" widget="statusbar"/>
                </header>
                <sheet>
                    <group>
                        <field name="courseID"/>
                        <field name="courseName"/>
                        <field name="rel_teacher"/>
<!--                        <field name="state" string="选课状态"/>-->
                        <field name="s_ids"/>
                    </group>
                    <notebook>
                        <page string="Description">
                            <field name="description"/>
                        </page>
                        <page string="任课老师">
                            <field name="rel_teacher"/>
                        </page>
                    </notebook>
                </sheet>
             </form>
        </field>
    </record>

      <!--    <record model="ir.actions.server" id="print_instance">
      <field name="name">Res Partner Server Action</field>
      <field name="model_id" ref="model_res_partner"/>
      <field name="state">code</field>
      <field name="code">
          raise Warning(record.name)
      </field>
    </record>-->

<!--    <record model="ir.ui.view" id="laboratory.test_model_action_window">
      <field name="name">TestAction window</field>
     <field name="view_mode">tree,form</field>
      <field name="arch" type="xml">
          <form>
            <header>
                <button name="action_do_something" type="object" string="Do Something"/>
            </header>
            <sheet>
                <field name="sName"/>
            </sheet>
          </form>
          <tree string="Tests">
              <field name="cName"/>
              <field name="description"/>
          </tree>
      </field>
    </record>-->

    <!-- Top menu item -->
    <menuitem name="Laboratory" id="laboratory.menu_root"/>
    <!-- menu categories -->
    <menuitem name="Management" id="laboratory.menu_1" parent="laboratory.menu_root"/>
    <menuitem name="Menu2" id="laboratory.menu_2" parent="laboratory.menu_root"/>

    <!-- actions -->
    <menuitem name="Students" id="laboratory.menu_1_list" parent="laboratory.menu_1"
              action="action_server_lab_students"/>
    <menuitem name="Courses" id="laboratory" parent="laboratory.menu_1"
              action="action_server_lab_courses"/>

    <menuitem name="Courses" id="test1" parent="laboratory.menu_2"
              action="action_server_lab_courses"/>
  </data>
</odoo>